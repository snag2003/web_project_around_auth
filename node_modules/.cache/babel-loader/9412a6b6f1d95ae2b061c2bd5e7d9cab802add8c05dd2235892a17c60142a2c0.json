{"ast":null,"code":"class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n  _handleResponse(res) {\n    if (!res.ok) {\n      const errorMessage = `Error: ${res.status}`;\n      throw new Error(errorMessage);\n    }\n    return res.json();\n  }\n  _handleRequest(url, method, body = null) {\n    const requestOptions = {\n      method,\n      headers: this.headers,\n      body: body ? JSON.stringify(body) : null\n    };\n    return fetch(`${this.baseUrl}${url}`, requestOptions).then(response => {\n      if (!response.ok) {\n        throw new Error(`Error: ${response.status}`);\n      }\n      return response.json();\n    }).catch(error => {\n      // Re-throw the error to propagate it up\n      throw error;\n    });\n  }\n  getInitialCards() {\n    return this._handleRequest(\"/cards\", \"GET\");\n  }\n  getUserInfo() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n  editUserInfo(data) {\n    return this._handleRequest(\"/users/me\", \"PATCH\", {\n      name: data.name,\n      about: data.about\n    });\n  }\n  editAvatar(avatar) {\n    return this._handleRequest(\"/users/me/avatar\", \"PATCH\", {\n      avatar: avatar\n    });\n  }\n  postNewCard(card) {\n    return this._handleRequest(\"/cards\", \"POST\", {\n      name: card.name,\n      link: card.link\n    });\n  }\n  deleteCard(cardId) {\n    return this._handleRequest(`/cards/${cardId}`, \"DELETE\");\n  }\n  setCardIcons() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n  cardLiked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"PUT\");\n  }\n  cardUnliked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"DELETE\");\n  }\n  changeLikeCardStatus(cardId, isLiked) {\n    return this._handleRequest(`/cards/likes/${cardId}`, isLiked ? \"PUT\" : \"DELETE\");\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/web_es_07\",\n  headers: {\n    authorization: \"75ae37db-e1c0-4226-9bd4-60fb735a3607\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","options","baseUrl","headers","_handleResponse","res","ok","errorMessage","status","Error","json","_handleRequest","url","method","body","requestOptions","JSON","stringify","fetch","then","response","catch","error","getInitialCards","getUserInfo","editUserInfo","data","name","about","editAvatar","avatar","postNewCard","card","link","deleteCard","cardId","setCardIcons","cardLiked","cardUnliked","changeLikeCardStatus","isLiked","api","authorization"],"sources":["/Users/stephanyacosta/Desktop/Practicum Projects/web_project_around_react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _handleResponse(res) {\n    if (!res.ok) {\n      const errorMessage = `Error: ${res.status}`;\n      throw new Error(errorMessage);\n    }\n    return res.json();\n  }\n\n  _handleRequest(url, method, body = null) {\n    const requestOptions = {\n      method,\n      headers: this.headers,\n      body: body ? JSON.stringify(body) : null,\n    };\n\n    return fetch(`${this.baseUrl}${url}`, requestOptions)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(`Error: ${response.status}`);\n        }\n        return response.json();\n      })\n      .catch((error) => {\n        // Re-throw the error to propagate it up\n        throw error;\n      });\n  }\n\n  getInitialCards() {\n    return this._handleRequest(\"/cards\", \"GET\");\n  }\n\n  getUserInfo() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n\n  editUserInfo(data) {\n    return this._handleRequest(\"/users/me\", \"PATCH\", {\n      name: data.name,\n      about: data.about,\n    });\n  }\n\n  editAvatar(avatar) {\n    return this._handleRequest(\"/users/me/avatar\", \"PATCH\", {\n      avatar: avatar,\n    });\n  }\n\n  postNewCard(card) {\n    return this._handleRequest(\"/cards\", \"POST\", {\n      name: card.name,\n      link: card.link,\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._handleRequest(`/cards/${cardId}`, \"DELETE\");\n  }\n\n  setCardIcons() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n\n  cardLiked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"PUT\");\n  }\n\n  cardUnliked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"DELETE\");\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return this._handleRequest(\n      `/cards/likes/${cardId}`,\n      isLiked ? \"PUT\" : \"DELETE\"\n    );\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/web_es_07\",\n  headers: {\n    authorization: \"75ae37db-e1c0-4226-9bd4-60fb735a3607\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n"],"mappings":"AAAA,MAAMA,GAAG,CAAC;EACRC,WAAWA,CAACC,OAAO,EAAE;IACnB,IAAI,CAACC,OAAO,GAAGD,OAAO,CAACC,OAAO;IAC9B,IAAI,CAACC,OAAO,GAAGF,OAAO,CAACE,OAAO;EAChC;EAEAC,eAAeA,CAACC,GAAG,EAAE;IACnB,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;MACX,MAAMC,YAAY,GAAI,UAASF,GAAG,CAACG,MAAO,EAAC;MAC3C,MAAM,IAAIC,KAAK,CAACF,YAAY,CAAC;IAC/B;IACA,OAAOF,GAAG,CAACK,IAAI,CAAC,CAAC;EACnB;EAEAC,cAAcA,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,GAAG,IAAI,EAAE;IACvC,MAAMC,cAAc,GAAG;MACrBF,MAAM;MACNV,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBW,IAAI,EAAEA,IAAI,GAAGE,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC,GAAG;IACtC,CAAC;IAED,OAAOI,KAAK,CAAE,GAAE,IAAI,CAAChB,OAAQ,GAAEU,GAAI,EAAC,EAAEG,cAAc,CAAC,CAClDI,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACA,QAAQ,CAACd,EAAE,EAAE;QAChB,MAAM,IAAIG,KAAK,CAAE,UAASW,QAAQ,CAACZ,MAAO,EAAC,CAAC;MAC9C;MACA,OAAOY,QAAQ,CAACV,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,CACDW,KAAK,CAAEC,KAAK,IAAK;MAChB;MACA,MAAMA,KAAK;IACb,CAAC,CAAC;EACN;EAEAC,eAAeA,CAAA,EAAG;IAChB,OAAO,IAAI,CAACZ,cAAc,CAAC,QAAQ,EAAE,KAAK,CAAC;EAC7C;EAEAa,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACb,cAAc,CAAC,WAAW,EAAE,KAAK,CAAC;EAChD;EAEAc,YAAYA,CAACC,IAAI,EAAE;IACjB,OAAO,IAAI,CAACf,cAAc,CAAC,WAAW,EAAE,OAAO,EAAE;MAC/CgB,IAAI,EAAED,IAAI,CAACC,IAAI;MACfC,KAAK,EAAEF,IAAI,CAACE;IACd,CAAC,CAAC;EACJ;EAEAC,UAAUA,CAACC,MAAM,EAAE;IACjB,OAAO,IAAI,CAACnB,cAAc,CAAC,kBAAkB,EAAE,OAAO,EAAE;MACtDmB,MAAM,EAAEA;IACV,CAAC,CAAC;EACJ;EAEAC,WAAWA,CAACC,IAAI,EAAE;IAChB,OAAO,IAAI,CAACrB,cAAc,CAAC,QAAQ,EAAE,MAAM,EAAE;MAC3CgB,IAAI,EAAEK,IAAI,CAACL,IAAI;MACfM,IAAI,EAAED,IAAI,CAACC;IACb,CAAC,CAAC;EACJ;EAEAC,UAAUA,CAACC,MAAM,EAAE;IACjB,OAAO,IAAI,CAACxB,cAAc,CAAE,UAASwB,MAAO,EAAC,EAAE,QAAQ,CAAC;EAC1D;EAEAC,YAAYA,CAAA,EAAG;IACb,OAAO,IAAI,CAACzB,cAAc,CAAC,WAAW,EAAE,KAAK,CAAC;EAChD;EAEA0B,SAASA,CAACF,MAAM,EAAE;IAChB,OAAO,IAAI,CAACxB,cAAc,CAAE,gBAAewB,MAAO,EAAC,EAAE,KAAK,CAAC;EAC7D;EAEAG,WAAWA,CAACH,MAAM,EAAE;IAClB,OAAO,IAAI,CAACxB,cAAc,CAAE,gBAAewB,MAAO,EAAC,EAAE,QAAQ,CAAC;EAChE;EAEAI,oBAAoBA,CAACJ,MAAM,EAAEK,OAAO,EAAE;IACpC,OAAO,IAAI,CAAC7B,cAAc,CACvB,gBAAewB,MAAO,EAAC,EACxBK,OAAO,GAAG,KAAK,GAAG,QACpB,CAAC;EACH;AACF;AAEA,MAAMC,GAAG,GAAG,IAAI1C,GAAG,CAAC;EAClBG,OAAO,EAAE,8CAA8C;EACvDC,OAAO,EAAE;IACPuC,aAAa,EAAE,sCAAsC;IACrD,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEF,eAAeD,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}