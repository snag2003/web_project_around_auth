{"ast":null,"code":"class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n  _handleResponse(res) {\n    if (!res.ok) {\n      const errorMessage = `Error: ${res.status}`;\n      throw new Error(errorMessage);\n    }\n    return res.json();\n  }\n  _handleRequest(url, method, body = null) {\n    const requestOptions = {\n      method,\n      headers: this.headers,\n      body: body ? JSON.stringify(body) : null\n    };\n    return fetch(`${this.baseUrl}${url}`, requestOptions).then(response => this._handleResponse(response)).catch(error => {\n      console.log(error);\n    });\n  }\n  getInitialCards() {\n    return this._handleRequest(\"/cards\", \"GET\");\n  }\n  getUserInfo() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n  editUserInfo(data) {\n    return this._handleRequest(\"/users/me\", \"PATCH\", {\n      name: data.name,\n      about: data.job\n    });\n  }\n  editAvatar(avatar) {\n    return this._handleRequest(\"/users/me/avatar\", \"PATCH\", {\n      avatar: avatar.link\n    });\n  }\n  postNewCard(card) {\n    return this._handleRequest(\"/cards\", \"POST\", {\n      name: card.name,\n      link: card.link\n    });\n  }\n  deleteCard(cardId) {\n    return this._handleRequest(`/cards/${cardId}`, \"DELETE\");\n  }\n  setCardIcons() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n  cardLiked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"PUT\");\n  }\n  cardUnliked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"DELETE\");\n  }\n  changeLikeStatus(LikeButtonIsActive, cardId) {\n    if (LikeButtonIsActive) {\n      // Unlike heart button\n      return api.cardUnliked(cardId).then(data => {\n        return data;\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      // Like heart button\n      return api.cardLiked(cardId).then(data => {\n        return data;\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/web_es_07\",\n  headers: {\n    authorization: \"75ae37db-e1c0-4226-9bd4-60fb735a3607\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","options","baseUrl","headers","_handleResponse","res","ok","errorMessage","status","Error","json","_handleRequest","url","method","body","requestOptions","JSON","stringify","fetch","then","response","catch","error","console","log","getInitialCards","getUserInfo","editUserInfo","data","name","about","job","editAvatar","avatar","link","postNewCard","card","deleteCard","cardId","setCardIcons","cardLiked","cardUnliked","changeLikeStatus","LikeButtonIsActive","api","err","authorization"],"sources":["/Users/stephanyacosta/Desktop/Practicum Projects/web_project_around_react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _handleResponse(res) {\n    if (!res.ok) {\n      const errorMessage = `Error: ${res.status}`;\n      throw new Error(errorMessage);\n    }\n    return res.json();\n  }\n\n  _handleRequest(url, method, body = null) {\n    const requestOptions = {\n      method,\n      headers: this.headers,\n      body: body ? JSON.stringify(body) : null,\n    };\n\n    return fetch(`${this.baseUrl}${url}`, requestOptions)\n      .then((response) => this._handleResponse(response))\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  getInitialCards() {\n    return this._handleRequest(\"/cards\", \"GET\");\n  }\n\n  getUserInfo() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n\n  editUserInfo(data) {\n    return this._handleRequest(\"/users/me\", \"PATCH\", {\n      name: data.name,\n      about: data.job,\n    });\n  }\n\n  editAvatar(avatar) {\n    return this._handleRequest(\"/users/me/avatar\", \"PATCH\", {\n      avatar: avatar.link,\n    });\n  }\n\n  postNewCard(card) {\n    return this._handleRequest(\"/cards\", \"POST\", {\n      name: card.name,\n      link: card.link,\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._handleRequest(`/cards/${cardId}`, \"DELETE\");\n  }\n\n  setCardIcons() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n\n  cardLiked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"PUT\");\n  }\n\n  cardUnliked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"DELETE\");\n  }\n\n  changeLikeStatus(LikeButtonIsActive, cardId) {\n    if (LikeButtonIsActive) {\n      // Unlike heart button\n      return api\n        .cardUnliked(cardId)\n        .then((data) => {\n          return data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      // Like heart button\n      return api\n        .cardLiked(cardId)\n        .then((data) => {\n          return data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/web_es_07\",\n  headers: {\n    authorization: \"75ae37db-e1c0-4226-9bd4-60fb735a3607\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}